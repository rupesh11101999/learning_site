{% extends "layout.html" %}
{% load humanize %}

{% block title %}
    {{ course.title }}
{% endblock %}

{% block content %}
    <article>
        <h2>{{ course.title }}</h2>
        {{ course.description }}

        <p>There are {{ course.step_set.count|apnumber }} step{{ course.step_set.count|pluralize }} in this course: {{ course.step_set.all|join:", " }}</p>

        <section>
            <!-- step_set is a queryset. use all()
             (write without parens) to get all courses-->
            {% for step in course.step_set.all %}
                <h3>
                    <a href="{% url 'courses:step' course_pk=course.pk step_pk=step.pk %}">
                        {{ step.title }}
                    </a>
                </h3>
                {{ step.description }}
            {% endfor %}
        </section>
    </article>
{% endblock %}
